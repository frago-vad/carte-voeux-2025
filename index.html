<!doctype html>
<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>VÅ“ux</title>
    <link rel="stylesheet" href="./styles.css" />
  </head>

  <body>
    <div class="wrap">
      <div class="player">
        <video id="video" class="video" playsinline preload="metadata">
          <source src="./voeux.mp4" type="video/mp4" />
          Votre navigateur ne supporte pas la vidÃ©o.
        </video>

        <div class="controls">
          <button id="togglePlay" class="control-btn" aria-label="Lecture / Pause">
            â–¶
          </button>

          <button id="toggleMute" class="control-btn" aria-label="Mute / Unmute">
            ðŸ”Š
          </button>
        </div>
      </div>
    </div>

    <script>
      const video = document.getElementById("video");
      const playBtn = document.getElementById("togglePlay");
      const muteBtn = document.getElementById("toggleMute");

      function updatePlayIcon() {
        playBtn.textContent = video.paused ? "â–¶" : "âšâš";
      }

      function updateMuteIcon() {
        muteBtn.textContent = video.muted ? "ðŸ”‡" : "ðŸ”Š";
      }

      playBtn.addEventListener("click", () => {
        if (video.paused) video.play();
        else video.pause();
        updatePlayIcon();
      });

      muteBtn.addEventListener("click", () => {
        video.muted = !video.muted;
        updateMuteIcon();
      });

      // Clic sur la vidÃ©o = play/pause
      video.addEventListener("click", () => {
        if (video.paused) video.play();
        else video.pause();
        updatePlayIcon();
      });

      // Fin = rester sur la derniÃ¨re image (pas de repeat)
      video.addEventListener("ended", () => {
        video.pause();
        updatePlayIcon();
      });

      video.addEventListener("play", updatePlayIcon);
      video.addEventListener("pause", updatePlayIcon);

      updatePlayIcon();
      updateMuteIcon();
    </script>
  </body>
</html>
